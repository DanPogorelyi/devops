# Домашнее задание к занятию 10.5. "Балансировка нагрузки. HAProxy/Nginx" - Погорелый Даниил

[How to install nginx on ubuntu](https://www.digitalocean.com/community/tutorials/how-to-install-nginx-on-ubuntu-22-04)

[How to install haproxy on ubuntu](https://linuxhint.com/install-configure-haproxy-ubuntu-22-04/)

---

### Задание 1
Что такое балансировка нагрузки и зачем она нужна?

#### Требования к результату
1. Приведите ответ в свободной форме.

#### Решение

Балансировка нагрузки (load balancing) - это процесс распределения рабочей нагрузки между несколькими компьютерными ресурсами.

Зачастую в современных компьютерных системах требуется обрабатывать большой объем данных или обслуживать множество запросов от клиентов.
Если всю нагрузку возложить на один ресурс, это может привести к перегрузке, ухудшению производительности и возникновению сбоев.
Балансировка нагрузки решает эту проблему, распределяя нагрузку равномерно между несколькими ресурсами.

Преимущества балансировки нагрузки включают:
- Увеличение производительности: Распределение нагрузки позволяет равномерно использовать вычислительные ресурсы, что приводит к увеличению пропускной способности системы и сокращению времени отклика.
- Улучшение отказоустойчивости: Если один из ресурсов выходит из строя или испытывает проблемы, остальные ресурсы могут продолжать обрабатывать нагрузку, предотвращая простои и обеспечивая непрерывность работы системы.
- Масштабируемость: При необходимости добавления новых ресурсов в систему балансировка нагрузки позволяет равномерно распределить новую нагрузку между имеющимися и новыми ресурсами.
- Улучшение производительности для конечных пользователей: Балансировка нагрузки позволяет равномерно распределить запросы от клиентов между различными ресурсами, что улучшает время отклика и общее качество обслуживания для конечных пользователей.

---

### Задание 2
Чем отличаются алгоритмы балансировки Round Robin и Weighted Round Robin? В каких случаях каждый из них лучше применять?

#### Требования к результату
1. Приведите ответ в свободной форме.

#### Решение

Основные отличия:
- Round Robin: В этом алгоритме каждый новый запрос или задача распределяется последовательно по доступным ресурсам. Например, если имеется четыре сервера A, B, C и D, то первый запрос отправляется на сервер A, второй запрос на сервер B, третий на сервер C, четвертый на сервер D, а пятый снова на сервер A. Процесс повторяется в цикле.
- Weighted Round Robin: Этот алгоритм предоставляет возможность назначить разные веса или приоритеты ресурсам. Каждый ресурс имеет определенный вес, который определяет, сколько нагрузки будет распределено на каждый ресурс в рамках одного цикла. Например, если серверу A присвоен вес 2, серверу B - вес 1 и серверу C - вес 1, то на каждые два запроса, отправленные на сервер A, будет отправляться по одному запросу на серверы B и C.

Выбор между Round Robin и Weighted Round Robin зависит от конкретных требований и характеристик системы. Вот некоторые случаи, когда каждый из них может быть лучше применять:
- Round Robin: Этот метод хорошо подходит, когда все ресурсы имеют одинаковую производительность и способны эффективно обрабатывать одинаковые объемы нагрузки. Round Robin обеспечит равномерное распределение нагрузки между ними.
- Weighted Round Robin: Когда ресурсы с разной производительностью или важностью, Weighted Round Robin может быть полезным. Можно настроить веса ресурсов в соответствии с их возможностями, чтобы более мощные ресурсы получали больше нагрузки.

---

### Задание 3
Установите и запустите Haproxy.

#### Требования к результату
1. Приведите скриншот systemctl status haproxy, где будет видно, что Haproxy запущен.

#### Решение

```bash
sudo apt install haproxy
```

![systemctl status haproxy](https://github.com/DanPogorelyi/devops/blob/main/04-monitoring_resilient/10-nginx_haproxy/images/systemctl_status_haproxy.png)

---

### Задание 4
Установите и запустите Nginx.

#### Требования к результату
1. Приведите скриншот systemctl status nginx, где будет видно, что Nginx запущен.

#### Решение

```bash
sudo apt install nginx
```

![systemctl status nginx](https://github.com/DanPogorelyi/devops/blob/main/04-monitoring_resilient/10-nginx_haproxy/images/systemctl_status_nginx.png)

---

### Задание 5
Настройте Nginx на виртуальной машине таким образом, чтобы при запросе:

`curl http://localhost:8088/ping`

он возвращал в ответе строчку: "nginx is configured correctly".

#### Требования к результату
1. Приведите конфигурации настроенного Nginx сервиса и скриншот результата выполнения команды curl http://localhost:8088/ping.

#### Решение

![nginx conf](https://github.com/DanPogorelyi/devops/blob/main/04-monitoring_resilient/10-nginx_haproxy/images/nginx_conf.png)

![curl](https://github.com/DanPogorelyi/devops/blob/main/04-monitoring_resilient/10-nginx_haproxy/images/curl_nginx.png)

---